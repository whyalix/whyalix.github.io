/**
 * Wrapper for Isotope
 */
.gallery {
  list-style: none;
  margin: 0 0 0 25em;
  padding: 0;

  @include respond-to("small") {
    max-width: 100%;
    height: auto !important;
    margin: 0 !important;
  }
}

/**
 * Li elements
 * 1. To show you can click them
 * 2. If CSS animations are supported, apply opacity 0
 * 3. Then apply an incremented delay to first 20 (enough to cover most screens)
 * 4. Moving everything to static on small devices
 */
.gallery__item {
  margin: 0 auto .625em;
  cursor: pointer; /* 1 */

  @include respond-to("small") { /* 2 */
    position: static !important;
    -webkit-transform: none !important;
    -ms-transform: none !important;
    transform: none !important;
  }
}

@supports (-webkit-animation-duration: .5s) or (animation-duration: .5s) {
  @include respond-to("large") {
    .gallery__item {
      -webkit-animation: opa .5s both;
      animation: opa .5s both;

      @for $i from 1 through 15 { /* 4 */
        &:nth-of-type(#{$i}) {
          -webkit-animation-delay: $i * .1s;
          animation-delay: $i * .1s;
        }
      }
    }
  }
}

.gallery__item figure {
  margin: 0;
}

/**
 * Actual images elements
 */
.gallery__image {
  display: block;

  noscript > & {
    float: left;
    margin: 5px;
  }

  @include respond-to("small") {
    height: auto !important;
    width: 100% !important;
    max-width: 400px;
    margin: 0 auto;
  }

  &:hover {
    opacity: .9;
  }

  &.lazy {
    display: none;
  }
}
